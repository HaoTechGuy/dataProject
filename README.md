# 电磁兼容知识库智能问答系统

## 项目简介

这是一个基于 RAG (Retrieval-Augmented Generation) 技术的智能问答系统，专门针对电磁兼容和 HFSS 仿真领域的专业知识检索与问答。系统能够自动处理和分析多个专业 PDF 文档，构建知识库，并提供准确的问答服务。

## 核心特性

- **多文档智能处理**：自动处理多个 PDF 文档，支持批量导入专业文献
- **智能文本清洗**：专业术语标准化，自动处理排版问题
- **高效向量检索**：基于 FAISS 的高性能向量数据库
- **智能问答系统**：基于大语言模型的专业问答能力
- **源文档追溯**：提供答案的来源文档及相关段落
- **专业术语优化**：自动标准化专业术语表述

## 项目结构

```
.
├── RAG知识库/                # PDF文档存储目录
│   ├── 电磁兼容概念、原理与应用.pdf
│   ├── RTCA DO-160G.pdf
│   └── 其他专业文档...
├── hfss_knowledge_base/     # 向量数据库存储目录
│   ├── index.faiss         # FAISS索引文件
│   └── index.pkl           # 索引元数据
├── hfss_rag_system.py      # 主程序
├── hfss_preprocessing.py    # 数据预处理模块
├── rag_auto_evaluator.py   # 自动评估模块
├── rag_auto_optimizer.py   # 系统优化模块
├── test_*.py               # 测试文件
└── requirements.txt        # 项目依赖
```

## 技术栈

- **Python 3.9+**
- **LangChain**: RAG 框架与链式处理
- **FAISS**: 高性能向量检索
- **HuggingFace Transformers**: 预训练模型支持
- **DeepSeek**: 大规模语言模型
- **PyPDF2**: PDF 文档处理
- **Sentence-Transformers**: 文本向量化

## 核心功能

### 1. 文档处理与知识库构建
- PDF 文档自动加载和解析
- 智能文本清洗和标准化
- 专业术语统一化处理
- 文本分块和向量化
- FAISS 知识库构建和持久化

### 2. 智能问答系统
- 交互式命令行界面
- 多文档综合检索
- 答案溯源能力
- 相关度排序展示

### 3. 系统优化
- 参数自动优化
- 性能评估
- 结果验证

## 快速开始

1. **环境配置**
```bash
# 创建虚拟环境
python -m venv .venv

# 激活虚拟环境
# Windows:
.venv\Scripts\activate
# Linux/Mac:
source .venv/bin/activate

# 安装依赖
pip install -r requirements.txt
```

2. **准备知识库**
- 将 PDF 文档放入 `RAG知识库` 目录

3. **运行系统**
```bash
python hfss_rag_system.py
```

## 使用说明

1. **初次运行**
- 系统会自动处理 `RAG知识库` 目录下的所有 PDF 文件
- 构建向量知识库（可能需要几分钟）
- 启动交互式问答界面

2. **日常使用**
- 直接运行程序，加载已有知识库
- 输入专业问题获取答案
- 输入 'exit' 退出系统

3. **更新知识库**
- 添加新的 PDF 文档到 `RAG知识库` 目录
- 删除 `hfss_knowledge_base` 目录
- 重新运行程序构建新知识库

## 系统特点

1. **专业性**
- 针对电磁兼容领域优化
- 支持专业术语标准化
- 准确理解专业问题

2. **可扩展性**
- 支持增量更新知识库
- 模块化设计便于扩展
- 可自定义处理流程

3. **实用性**
- 交互式问答界面
- 答案溯源功能
- 支持批量文档处理

## 注意事项

1. 首次运行时需要足够的内存和处理时间
2. 建议使用格式规范的 PDF 文档
3. 确保系统有足够的磁盘空间
4. 定期更新知识库以保持信息时效性

## 开发计划

- [ ] 添加 Web 界面支持
- [ ] 优化文档处理性能
- [ ] 增加多语言支持
- [ ] 添加批量问答功能
- [ ] 支持更多文档格式

## 贡献指南

欢迎提交问题和改进建议：

1. Fork 本仓库
2. 创建新的特性分支
3. 提交更改
4. 发起 Pull Request

## 许可证

本项目采用 MIT 许可证。详见 LICENSE 文件。